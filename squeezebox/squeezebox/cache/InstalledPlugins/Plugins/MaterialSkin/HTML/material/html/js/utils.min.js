var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Object.is",function(a){return a?a:function(a,c){return a===c?0!==a||1/a===1/c:a!==a&&c!==c}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(a,c){var b=this;b instanceof String&&(b=String(b));var e=b.length;c=c||0;for(0>c&&(c=Math.max(c+e,0));c<e;c++){var f=b[c];if(f===a||Object.is(f,a))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,c){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,c||0)}},"es6","es3");
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(a,c){var b=$jscomp.checkStringArgs(this,a,"startsWith");a+="";var e=b.length,f=a.length;c=Math.max(0,Math.min(c|0,b.length));for(var g=0;g<f&&c<e;)if(b[c++]!=a[g++])return!1;return g>=f}},"es6","es3");
$jscomp.polyfill("String.prototype.endsWith",function(a){return a?a:function(a,c){var b=$jscomp.checkStringArgs(this,a,"endsWith");a+="";void 0===c&&(c=b.length);c=Math.max(0,Math.min(c|0,b.length));for(var e=a.length;0<e&&0<c;)if(b[--c]!=a[--e])return!1;return 0>=e}},"es6","es3");$jscomp.checkEs6ConformanceViaProxy=function(){try{var a={},b=Object.create(new $jscomp.global.Proxy(a,{get:function(c,d,e){return c==a&&"q"==d&&e==b}}));return!0===b.q}catch(c){return!1}};
$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.Symbol=function(){var a=0;return function(b){return $jscomp.SYMBOL_PREFIX+(b||"")+a++}}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};
$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.owns=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};
$jscomp.polyfill("WeakMap",function(a){function b(){if(!a||!Object.seal)return!1;try{var b=Object.seal({}),c=Object.seal({}),d=new a([[b,2],[c,3]]);if(2!=d.get(b)||3!=d.get(c))return!1;d.delete(b);d.set(c,4);return!d.has(b)&&4==d.get(c)}catch(k){return!1}}function c(){}function d(a){if(!$jscomp.owns(a,f)){var b=new c;$jscomp.defineProperty(a,f,{value:b})}}function e(a){var b=Object[a];b&&(Object[a]=function(a){if(a instanceof c)return a;d(a);return b(a)})}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&
$jscomp.ES6_CONFORMANCE)return a}else if(b())return a;var f="$jscomp_hidden_"+Math.random();e("freeze");e("preventExtensions");e("seal");var g=0,h=function(a){this.id_=(g+=Math.random()+1).toString();if(a){a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}};h.prototype.set=function(a,b){d(a);if(!$jscomp.owns(a,f))throw Error("WeakMap key fail: "+a);a[f][this.id_]=b;return this};h.prototype.get=function(a){return $jscomp.owns(a,f)?a[f][this.id_]:void 0};h.prototype.has=
function(a){return $jscomp.owns(a,f)&&$jscomp.owns(a[f],this.id_)};h.prototype.delete=function(a){return $jscomp.owns(a,f)&&$jscomp.owns(a[f],this.id_)?delete a[f][this.id_]:!1};return h},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(a){function b(){if($jscomp.ASSUME_NO_NATIVE_MAP||!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),c=new a($jscomp.makeIterator([[b,"s"]]));if("s"!=c.get(b)||1!=c.size||c.get({x:4})||c.set({x:4},"t")!=c||2!=c.size)return!1;var d=c.entries(),e=d.next();if(e.done||e.value[0]!=b||"s"!=e.value[1])return!1;e=d.next();return e.done||4!=e.value[0].x||"t"!=e.value[1]||!d.next().done?!1:!0}catch(l){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(b())return a;$jscomp.initSymbolIterator();var c=new WeakMap,d=function(a){this.data_={};this.head_=g();this.size=0;if(a){a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}};d.prototype.set=function(a,b){a=0===a?0:a;var c=e(this,a);c.list||(c.list=this.data_[c.id]=[]);c.entry?c.entry.value=b:(c.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:a,
value:b},c.list.push(c.entry),this.head_.previous.next=c.entry,this.head_.previous=c.entry,this.size++);return this};d.prototype.delete=function(a){a=e(this,a);return a.entry&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.data_[a.id],a.entry.previous.next=a.entry.next,a.entry.next.previous=a.entry.previous,a.entry.head=null,this.size--,!0):!1};d.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=g();this.size=0};d.prototype.has=function(a){return!!e(this,a).entry};
d.prototype.get=function(a){return(a=e(this,a).entry)&&a.value};d.prototype.entries=function(){return f(this,function(a){return[a.key,a.value]})};d.prototype.keys=function(){return f(this,function(a){return a.key})};d.prototype.values=function(){return f(this,function(a){return a.value})};d.prototype.forEach=function(a,b){for(var c=this.entries(),d;!(d=c.next()).done;)d=d.value,a.call(b,d[1],d[0],this)};d.prototype[Symbol.iterator]=d.prototype.entries;var e=function(a,b){var d=b&&typeof b;"object"==
d||"function"==d?c.has(b)?d=c.get(b):(d=""+ ++h,c.set(b,d)):d="p_"+b;var e=a.data_[d];if(e&&$jscomp.owns(a.data_,d))for(a=0;a<e.length;a++){var f=e[a];if(b!==b&&f.key!==f.key||b===f.key)return{id:d,list:e,index:a,entry:f}}return{id:d,list:e,index:-1,entry:void 0}},f=function(a,b){var c=a.head_;return $jscomp.iteratorPrototype(function(){if(c){for(;c.head!=a.head_;)c=c.previous;for(;c.next!=c.head;)return c=c.next,{done:!1,value:b(c)};c=null}return{done:!0,value:void 0}})},g=function(){var a={};return a.previous=
a.next=a.head=a},h=0;return d},"es6","es3");
$jscomp.polyfill("Set",function(a){function b(){if($jscomp.ASSUME_NO_NATIVE_SET||!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),c=new a($jscomp.makeIterator([b]));if(!c.has(b)||1!=c.size||c.add(b)!=c||1!=c.size||c.add({x:4})!=c||2!=c.size)return!1;var f=c.entries(),g=f.next();if(g.done||g.value[0]!=b||g.value[1]!=b)return!1;g=f.next();return g.done||g.value[0]==b||4!=g.value[0].x||g.value[1]!=g.value[0]?!1:f.next().done}catch(h){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(b())return a;$jscomp.initSymbolIterator();var c=function(a){this.map_=new Map;if(a){a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)this.add(b.value)}this.size=this.map_.size};c.prototype.add=function(a){a=0===a?0:a;this.map_.set(a,a);this.size=this.map_.size;return this};c.prototype.delete=function(a){a=this.map_.delete(a);this.size=this.map_.size;return a};c.prototype.clear=function(){this.map_.clear();
this.size=0};c.prototype.has=function(a){return this.map_.has(a)};c.prototype.entries=function(){return this.map_.entries()};c.prototype.values=function(){return this.map_.values()};c.prototype.keys=c.prototype.values;c.prototype[Symbol.iterator]=c.prototype.values;c.prototype.forEach=function(a,b){var c=this;this.map_.forEach(function(d){return a.call(b,d,d,c)})};return c},"es6","es3");
$jscomp.iteratorFromArray=function(a,b){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var c=0,d={next:function(){if(c<a.length){var e=c++;return{value:b(e,a[e]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
var SEPARATOR=" \u2022 ",MY_SQUEEZEBOX_IMAGE_PROXY="https://www.mysqueezebox.com/public/imageproxy",bus=new Vue,debug=void 0;function logJsonMessage(a,b){debug&&(debug.has("json")||debug.has("true"))&&console.log("["+(new Date).toLocaleTimeString()+"] JSON "+a+(b?": "+JSON.stringify(b):""))}function logCometdMessage(a,b){debug&&(debug.has("cometd")||debug.has("true"))&&console.log("["+(new Date).toLocaleTimeString()+"] COMETED "+a+(b?": "+JSON.stringify(b):""))}
function logCometdDebug(a){debug&&(debug.has("cometd")||debug.has("true"))&&console.log("["+(new Date).toLocaleTimeString()+"] COMETED "+a)}function commandToLog(a,b,c,d){var e=[];void 0!=a&&a.forEach(function(a){e.push(a)});void 0!=b&&(void 0!=c&&(e.push(c),e.push(void 0==d?LMS_BATCH_SIZE:d)),b.forEach(function(a){e.push(a)}));return e}function logError(a,b,c,d,e){console.error("["+(new Date).toUTCString()+"] ERROR:"+a,commandToLog(b,c,d,e));console.trace()}
function logAndShowError(a,b,c,d,e,f){logError(a,c,d,e,f);bus.$emit("showError",a,b)}function formatSeconds(a,b){var c=parseInt(a,10);a=b?Math.floor(c/86400):0;var d=b?Math.floor(c/3600)%24:Math.floor(c/3600),e=Math.floor(c/60)%60;c%=60;return(0<a?i18np("1 day","%1 days",a)+" ":"")+(0<d||b&&0<a?d+":":"")+(1>e?"00:":"")+[e,c].map(function(a){return 10>a?"0"+a:a}).filter(function(a,b){return"00"!==a||0<b}).join(":")}
function formatTime(a,b){var c=parseInt(a,10);a=Math.floor(c/3600)%24;c=Math.floor(c/60)%60;return b?[a,c].map(function(a){return 10>a?"0"+a:a}).join(":"):(a%12||12)+":"+(10>c?"0":"")+c+" "+(12>a?"AM":"PM")}function formatDate(a){a=new Date(1E3*a);return a.toLocaleDateString()+" "+a.toLocaleTimeString()}var useMySqueezeboxImageProxy=!0;
function resolveImageUrl(a,b){a=""+a;if((a.includes("http://")||a.includes("https://"))&&!a.startsWith("/imageproxy")&&!a.startsWith("imageproxy")){var c=new URL(a);return c.hostname.startsWith("192.168.")||c.hostname.startsWith("127.")||c.hostname.endsWith(".local")?a:useMySqueezeboxImageProxy?(b=b?b.split("x")[0].replace("_",""):LMS_IMAGE_SZ,MY_SQUEEZEBOX_IMAGE_PROXY+"?w="+b+"&h="+b+"&m=F&u="+encodeURIComponent(a)):"/imageproxy/"+encodeURIComponent(a)+"/image"+(b?b:LMS_IMAGE_SIZE)}c=a.lastIndexOf(".png");
0>c&&(c=a.lastIndexOf(".jpg"));0>c&&/^[0-9a-fA-F]+$/.test(a)?a="music/"+a+"/cover"+(b?b:LMS_IMAGE_SIZE):0<c&&(a=a.substring(0,c)+(b?b:LMS_IMAGE_SIZE)+a.substring(c));return a.startsWith("/")?a:"/"+a}function resolveImage(a,b,c){return a||b?b?resolveImageUrl(b,c):resolveImageUrl(a,c):null}
function changeImageSizing(a,b){if(void 0!=a){if(a.startsWith(MY_SQUEEZEBOX_IMAGE_PROXY)){a=a.split("u=")[1];if(b){var c=b.split("x")[0].replace("_","");return MY_SQUEEZEBOX_IMAGE_PROXY+"?w="+c+"&h="+c+"&m=F&u="+a}return MY_SQUEEZEBOX_IMAGE_PROXY+"?u="+a}var d=[LMS_IMAGE_SIZE,LMS_CURRENT_IMAGE_SIZE,"_50x50_o"];c=0;for(var e=d.length;c<e;++c){if(a.endsWith(d[c]+".png"))return a.replace(d[c]+".png",(b?b:"")+".png");if(a.endsWith(d[c]))return a.substring(0,a.length-d[c].length)+(b?b:"")}}return a}
function fixTitle(a){for(var b="the el la los las le les".split(" "),c=0,d=b.length;c<d;++c)if(a.startsWith(b[c]+" "))return a.substring(b[c].length+1)+", "+b[c];return a}function nameSort(a,b){a=a.name.toLowerCase();b=b.name.toLowerCase();return a<b?-1:a>b?1:0}function titleSort(a,b){a=fixTitle(a.title.toLowerCase());b=fixTitle(b.title.toLowerCase());return a<b?-1:a>b?1:0}
function itemSort(a,b){var c="group"==a.type?0:"track"==a.type?"music_note"==a.icon?1:2:3,d="group"==b.type?0:"track"==b.type?"music_note"==b.icon?1:2:3;return c!=d?c<d?-1:1:titleSort(a,b)}function favSort(a,b){var c=a.isFavFolder?0:1,d=b.isFavFolder?0:1;return c!=d?c<d?-1:1:titleSort(a,b)}function partialFavSort(a,b){var c=a.isFavFolder?0:1,d=b.isFavFolder?0:1;return c!=d?c<d?-1:1:a.isFavFolder?titleSort(a,b):a.pos<b.pos?-1:1}
function playerSort(a,b){if(a.isgroup!=b.isgroup)return a.isgroup?1:-1;a=a.name.toLowerCase();b=b.name.toLowerCase();return a<b?-1:a>b?1:0}function otherPlayerSort(a,b){var c=a.server.toLowerCase(),d=b.server.toLowerCase();if(c<d)return-1;if(c>d)return 1;a=a.name.toLowerCase();b=b.name.toLowerCase();return a<b?-1:a>b?1:0}
function homeScreenSort(a,b){var c=a.id.startsWith(TOP_ID_PREFIX)?2:a.id.startsWith(MUSIC_ID_PREFIX)?1:0,d=b.id.startsWith(TOP_ID_PREFIX)?2:b.id.startsWith(MUSIC_ID_PREFIX)?1:0;return c==d?0==c||a.weight==b.weight?titleSort(a,b):a.weight<b.weight?-1:1:c<d?-1:1}function setScrollTop(a,b){window.requestAnimationFrame(function(){a.style["-webkit-overflow-scrolling"]="auto";a.scrollTop=b;a.style["-webkit-overflow-scrolling"]="touch"})}var LS_PREFIX="lms-material::";
function getLocalStorageBool(a,b){a=window.localStorage.getItem(LS_PREFIX+a);return void 0!=a?"true"==a:b}function getLocalStorageVal(a,b){a=window.localStorage.getItem(LS_PREFIX+a);return void 0!=a?a:b}function setLocalStorageVal(a,b){window.localStorage.setItem(LS_PREFIX+a,b)}function removeLocalStorage(a){window.localStorage.removeItem(LS_PREFIX+a)}function isMobile(){return/Android|webOS|iPhone|iPad|BlackBerry|Windows Phone|Opera Mini|IEMobile|Mobile/i.test(navigator.userAgent)}
var IS_MOBILE=isMobile();function isAndroid(){return/Android/i.test(navigator.userAgent)}function isIOS(){return/iPhone|iPad/i.test(navigator.userAgent)}function isIPhone(){return/iPhone/i.test(navigator.userAgent)}function replaceNewLines(a){return a?a.replace(/\n/g,"<br/>").replace(/\\n/g,"<br/>"):a}
function changeCss(a,b){b=document.getElementsByTagName("link").item(b);var c=document.createElement("link");c.setAttribute("rel","stylesheet");c.setAttribute("type","text/css");c.setAttribute("href",a);document.getElementsByTagName("head").item(0).replaceChild(c,b)}function setTheme(a){a?changeCss("html/css/dark.min.css?r="+LMS_MATERIAL_REVISION,0):changeCss("html/css/light.min.css?r="+LMS_MATERIAL_REVISION,0)}function openWindow(a){window.open(a,"_blank")}
function fixId(a,b){var c=a.split(".");return 1<c.length?(c.shift(),b+"."+c.join(".")):a}function setBgndCover(a,b,c){a&&(a.style.backgroundColor=c?"#424242":"#fff",void 0==b||b.endsWith(DEFAULT_COVER)||b.endsWith("/music/undefined/cover")?a.style.backgroundImage="url()":a.style.backgroundImage="url('"+b+"')",a.style.boxShadow=c?"inset 0 0 120vw 120vh rgba(72,72,72,0.9)":"inset 0 0 120vw 120vh rgba(255,255,255,0.9)")}var volumeStep=5;
function adjustVolume(a,b){if(1==volumeStep)return b?a+1:0==a?0:a-1;if(b)return Math.floor((a+volumeStep)/volumeStep)*volumeStep;if(a<=volumeStep)return 0;b=Math.floor(a/volumeStep)*volumeStep;return 2<=a-b?b:Math.floor((a-volumeStep)/volumeStep)*volumeStep}
function parseQueryParams(){var a=window.location.href.substring(window.location.href.indexOf("?")+1),b=a.indexOf("#");0<b&&(a=a.substring(0,b));a=a.split("&");for(b=a.length-1;0<=b;b--){var c=a[b].split("=");if("player"==c[0])setLocalStorageVal("player",c[1]),removeLocalStorage("defaultPlayer");else if("page"==c[0])"browse"!=c[1]&&"now-playing"!=c[1]&&"queue"!=c[1]||setLocalStorageVal("page",c[1]);else if("debug"==c[0]){c=c[1].split(",");debug=new Set;for(var d=0,e=c.length;d<e;++d)debug.add(c[d])}else"clearcache"==
c[0]&&"true"==c[1]&&clearListCache(!0)}}function isLandscape(){return window.innerWidth>1.4*window.innerHeight}function incrementVolume(){bus.$emit("adjustVolume",!0)}function decrementVolume(){bus.$emit("adjustVolume",!1)}function isVisible(a){a=a.getBoundingClientRect();var b=Math.max(document.documentElement.clientHeight,window.innerHeight);return!(0>a.bottom||0<=a.top-b)}
function ensureVisible(a,b){a.scrollIntoView();!isVisible(a)&&(void 0==b||15>b)&&window.setTimeout(function(){ensureVisible(a,void 0==b?1:b+1)},100)}var LMS_LIST_CACHE_PREFIX="cache:list:";function cacheKey(a,b,c,d){return LMS_LIST_CACHE_PREFIX+LMS_CACHE_VERSION+":"+lmsLastScan+":"+(a?a.join("-"):"")+":"+(b?b.join("-"):"")+(!a||"artists"!=a[0]&&"albums"!=a[0]?"":lmsOptions.noGenreFilter?":1":":0")+(a&&"albums"==a[0]?lmsOptions.noRoleFilter?":1":":0":"")+":"+c+":"+d}var canUseCache=!0;
function clearListCache(a){for(var b in window.localStorage)!b.startsWith(LS_PREFIX+LMS_LIST_CACHE_PREFIX)||!a&&b.startsWith(LS_PREFIX+LMS_LIST_CACHE_PREFIX+LMS_CACHE_VERSION+":"+lmsLastScan+":")||window.localStorage.removeItem(b);idbKeyval.keys().then(function(b){for(var c=0,e=b.length;c<e;++c)!b[c].startsWith(LMS_LIST_CACHE_PREFIX)||!a&&b[c].startsWith(LMS_LIST_CACHE_PREFIX+LMS_CACHE_VERSION+":"+lmsLastScan+":")||idbKeyval.del(b[c])}).catch(function(a){canUseCache=!1})}var RATINGS=';<i class="rstar">star_half</i>;<i class="rstar">star</i>;<i class="rstar">star</i> <i class="rstar">star_half</i>;<i class="rstar">star</i> <i class="rstar">star</i>;<i class="rstar">star</i> <i class="rstar">star</i> <i class="rstar">star_half</i>;<i class="rstar">star</i> <i class="rstar">star</i> <i class="rstar">star</i>;<i class="rstar">star</i> <i class="rstar">star</i> <i class="rstar">star</i> <i class="rstar">star_half</i>;<i class="rstar">star</i> <i class="rstar">star</i> <i class="rstar">star</i> <i class="rstar">star</i>;<i class="rstar">star</i> <i class="rstar">star</i> <i class="rstar">star</i> <i class="rstar">star</i> <i class="rstar">star_half</i>;<i class="rstar">star</i> <i class="rstar">star</i> <i class="rstar">star</i> <i class="rstar">star</i> <i class="rstar">star</i>'.split(";");
function ratingString(a,b){var c="";if(a){var d=a.indexOf('<i class="rstar">');c=-1<d?a.substring(0,d):c+a}a=Math.ceil(b/10);return 0>=a?c:c+SEPARATOR+RATINGS[0>a?0:a>=RATINGS.length?RATINGS.length-1:a]}function isEmpty(a){return void 0==a||1>a.length}function checkRemoteTitle(a){return a&&a.remote_title&&!a.remote_title.startsWith("http:/")&&!a.remote_title.startsWith("https:/")?a.remote_title:void 0}
function hasPlayableId(a){return a.item_id||a.track||a.track_id||a.album_id||a.artist_id||a.album||a.playlistid||a.album||a.artist||a.variousartist||a.year||a.genre||a.playlist}
function shouldAddLibraryId(a){if(a.command&&0<a.command.length){if("artists"==a.command[0]||"albums"==a.command[0]||"tracks"==a.command[0]||"genres"==a.command[0]||"playlists"==a.command[0]||"browselibrary"==a.command[0])return!0;if("playlistcontrol"==a.command[0])for(var b=1,c=a.command.length;b<c;++b)if(a.command[b].startsWith("artist_id:")||a.command[b].startsWith("album_id:")||a.command[b].startsWith("track_id:")||a.command[b].startsWith("genre_id:")||a.command[b].startsWith("year:"))return!0}return!1}
function isTextItem(a){return!a.weblink&&("text"==a.type||void 0==a.type&&void 0==a.group&&(!a.menuActions||1>a.menuActions.length)&&(!a.command||"browsejive"!=a.command[0]&&(2>a.command.length||"browsejive"!=a.command[1])))}function shrinkAray(a,b){if(a.length<=b)return a;for(var c=[],d=0,e=a.length/b;d<b;)c.push(a[Math.round(d*e)]),d++;c[c.length-1]=a[a.length-1];return c}
function updateItemFavorites(a){if(!(a.favUrl&&a.favIcon||a.presetParams&&a.presetParams.favorites_url)){var b=a.origTitle?a.origTitle:a.title;a.id.startsWith("genre_id:")?(a.favUrl="db:genre.name="+encodeURIComponent(b),a.favIcon="html/images/genres.png"):a.id.startsWith("artist_id:")?(a.favUrl="db:contributor.name="+encodeURIComponent(b),a.favIcon=changeImageSizing(a.image)):a.id.startsWith("album_id:")?(a.favUrl="db:album.title="+encodeURIComponent(b),a.favIcon=changeImageSizing(a.image)):a.id.startsWith("year:")?
(a.favUrl="db:year.id="+encodeURIComponent(b),a.favIcon="html/images/years.png"):a.id.startsWith("playlist:")&&(a.favIcon="html/images/playlists.png");a.favUrl=a.favUrl?a.favUrl:a.url;a.favIcon=a.favIcon?a.favIcon:a.image}}function isInFavorites(a){updateItemFavorites(a);return lmsFavorites.has(a.presetParams&&a.presetParams.favorites_url?a.presetParams.favorites_url:a.favUrl)}function uniqueId(a,b){return a+"@index:"+b}function originalId(a){return a.split("@index:")[0]}
function addPart(a,b){return a?b?a+SEPARATOR+b:a:b}function commandGridKey(a){return a.command[0]+"-grid"}var USE_LIST_VIEW_BY_DEFAULT=new Set(["myapps-grid","podcasts-grid","youtube-grid","playhistory-grid"]);function isSetToUseGrid(a){a=commandGridKey(a);return getLocalStorageBool(a,!USE_LIST_VIEW_BY_DEFAULT.has(a))}function setUseGrid(a,b){a=commandGridKey(a);var c=USE_LIST_VIEW_BY_DEFAULT.has(a);c&&!b||!c&&b?removeLocalStorage(a):setLocalStorageVal(a,b)}
var ALBUM_SORT_KEY="albumSort",ARTIST_ALBUM_SORT_KEY="artistAlbumSort";function commandAlbumSortKey(a){for(var b=!1,c=!1,d=0,e=a.params.length;d<e;++d)a.params[d].startsWith("artist_id:")&&(b=!0),"compilation:1"==a.params[d]&&(c=!0);return b&&!c?ARTIST_ALBUM_SORT_KEY:ALBUM_SORT_KEY}function getAlbumSort(a){a=commandAlbumSortKey(a);return getLocalStorageVal(a,ALBUM_SORT_KEY==a?"album":"yearalbum")}function setAlbumSort(a,b){setLocalStorageVal(commandAlbumSortKey(a),b)}
function folderName(a){a=a.split("/");1==a&&(a=i.path.split("\\"));return a[a.length-1]}function forceItemUpdate(a,b){var c=b.title;b.title="XX"+b.title;a.$nextTick(function(){b.title=c})}
function mapArtistIcon(a,b){b.icon=void 0;if(a&&0<a.length)for(var c=0,d=a.length;c<d;++c){if("role_id:COMPOSER"==a[c]||"role_id:2"==a[c]){b.svg="composer";return}if("role_id:CONDUCTOR"==a[c]||"role_id:3"==a[c]){b.svg="conductor";return}if("role_id:ALBUMARTIST"==a[c]){b.svg="albumartist";return}if("role_id:ARTIST"==a[c]||"role_id:PERFORMER"==a[c])break}b.svg="artist"}function splitString(a){var b=[];a=a.split(",");for(var c=0,d=a.length;c<d;++c){var e=a[c].trim();0<e.length&&b.push(e)}return b}
function showMenu(a,b){a.menu.show?setTimeout(function(){a.menu=b}.bind(this),100):a.menu=b}function arrayMove(a,b,c){if(c>=a.length)for(var d=c-a.length+1;d--;)a.push(void 0);a.splice(c,0,a.splice(b,1)[0]);return a}function getField(a,b){if(void 0==a.params||1>a.params.length)return-1;for(var c=0,d=a.params.length;c<d;++c)if(a.params[c].startsWith(b))return c;return-1}
function pageWasReloaded(){if(!window.performance)return!1;if("getEntriesByType"in performance)for(var a=performance.getEntriesByType("navigation"),b=0,c=a.length;b<c;b++)if("reload"==a[b].type)return!0;return performance.navigation.type==performance.navigation.TYPE_RELOAD}
function addAndPlayAllActions(a){if("albums"==a.command[0]){for(var b=0,c=a.params.length;b<c;++b)if(a.params[b].startsWith("artist_id:")||a.params[b].startsWith("genre_id:")||a.params[b].startsWith("search:"))return!0;return!1}if("artists"==a.command[0]||"genres"==a.command[0]||"years"==a.command[0]||"playlists"==a.command[0]||"musicfolder"==a.command[0]||"trackstat"==a.command[0])return!1;if("browselibrary"==a.command[0]&&"items"==a.command[1])for(b=0,c=a.params.length;b<c;++b){if("mode:filesystem"==
a.params[b]||a.params[b].startsWith("search:sql=tracks_persistent.playcount"))return!1}else if("custombrowse"==a.command[0]){b=0;for(c=a.params.length;b<c;++b)if(a.params[b].startsWith("artist:")||a.params[b].startsWith("variousartist:")||a.params[b].startsWith("album:"))return!0;return!1}return!0}function setFontSize(a){document.documentElement.style.setProperty("--std-font-size",a?"19px":"16px");document.documentElement.style.setProperty("--small-font-size",a?"18px":"14px")}
function bindKey(a,b){Mousetrap.bind((void 0==b?"":b+"+")+a.toLowerCase(),function(c){c.preventDefault();bus.$emit("keyboard",a,b)})}function shortcutStr(a,b){return b?i18n("Ctrl(\u2318)+Shift+%1",a):i18n("Ctrl(\u2318)+%1",a)}var PLAYLIST_EXTENSIONS=new Set("m3u m3u8 pls xspf asx cue".split(" "));function isPlaylist(a){if(void 0==a)return!1;a=a.split(".");return 2>a.length?!1:PLAYLIST_EXTENSIONS.has(a[a.length-1].toLowerCase())};
