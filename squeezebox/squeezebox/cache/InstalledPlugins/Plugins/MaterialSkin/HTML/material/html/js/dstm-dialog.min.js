Vue.component("lms-dstm-dialog",{template:'\n<v-dialog v-model="show" v-if="show" persistent width="450" class="lms-dialog">\n <v-card>\n  <v-card-text>\n   <v-container grid-list-md style="padding: 4px">\n    <v-layout wrap>\n     <v-flex xs12>{{i18n("Don\'t Stop The Music")}}</v-flex>\n     <v-flex xs12>\n      <v-list class="sleep-list">\n       <template v-for="(item, index) in items">\n        <v-list-tile @click="setDstm(item.key)">\n         <v-list-tile-avatar><v-icon small>{{item.selected ? \'radio_button_checked\' :\'radio_button_unchecked\'}}</v-icon></v-list-tile-avatar>\n         <v-list-tile-content>{{item.label}}</v-list-tile-content> \n        </v-list-tile>\n        <v-divider></v-divider>\n       </template>\n      </v-list>\n     </v-flex>\n    </v-layout>\n   </v-container>\n  </v-card-text>\n  <v-card-actions>\n   <v-spacer></v-spacer>\n   <v-btn flat @click.native="cancel()">{{i18n(\'Cancel\')}}</v-btn>\n  </v-card-actions>\n </v-card>\n</v-dialog>\n',
props:[],data:function(){return{show:!1,items:[]}},mounted:function(){bus.$on("dstm.open",function(){var b=this;this.$store.state.dstmPlugin&&lmsCommand(this.$store.state.player.id,["dontstopthemusicsetting"]).then(function(a){a=a.data;a.result&&a.result.item_loop&&(b.items=[],a.result.item_loop.forEach(function(a){a.actions&&a.actions.do&&a.actions.do.cmd&&b.items.push({key:a.actions.do.cmd[2],label:a.text,selected:1===a.radio})}),b.show=!0)})}.bind(this));bus.$on("noPlayers",function(){this.show=
!1}.bind(this));bus.$on("esc",function(){"dstm"==this.$store.state.activeDialog&&(this.show=!1)}.bind(this))},methods:{cancel:function(){this.show=!1},setDstm:function(b){lmsCommand(this.$store.state.player.id,["playerpref","plugin.dontstopthemusic:provider",b]).then(function(a){bus.$emit("prefset","plugin.dontstopthemusic:provider",b)});this.show=!1},i18n:function(b,a){return this.show?i18n(b,a):b},cancelTimer:function(){void 0!==this.timer&&(clearInterval(this.timer),this.timer=void 0)}},watch:{show:function(b){this.$store.commit("dialogOpen",
{name:"dstm",shown:b})}}});
