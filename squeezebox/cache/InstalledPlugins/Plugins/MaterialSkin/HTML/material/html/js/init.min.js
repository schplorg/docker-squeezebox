var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.checkEs6ConformanceViaProxy=function(){try{var a={},f=Object.create(new $jscomp.global.Proxy(a,{get:function(e,b,g){return e==a&&"q"==b&&g==f}}));return!0===f.q}catch(e){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;
$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();$jscomp.arrayIteratorImpl=function(a){var f=0;return function(){return f<a.length?{done:!1,value:a[f++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,f,e){a!=Array.prototype&&a!=Object.prototype&&(a[f]=e.value)};$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var a=0;return function(f){return $jscomp.SYMBOL_PREFIX+(f||"")+a++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};
$jscomp.makeIterator=function(a){var f="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return f?f.call(a):$jscomp.arrayIterator(a)};$jscomp.owns=function(a,f){return Object.prototype.hasOwnProperty.call(a,f)};$jscomp.polyfill=function(a,f,e,b){if(f){e=$jscomp.global;a=a.split(".");for(b=0;b<a.length-1;b++){var g=a[b];g in e||(e[g]={});e=e[g]}a=a[a.length-1];b=e[a];f=f(b);f!=b&&null!=f&&$jscomp.defineProperty(e,a,{configurable:!0,writable:!0,value:f})}};
$jscomp.polyfill("WeakMap",function(a){function f(){if(!a||!Object.seal)return!1;try{var c=Object.seal({}),d=Object.seal({}),b=new a([[c,2],[d,3]]);if(2!=b.get(c)||3!=b.get(d))return!1;b.delete(c);b.set(d,4);return!b.has(c)&&4==b.get(d)}catch(l){return!1}}function e(){}function b(c){if(!$jscomp.owns(c,d)){var a=new e;$jscomp.defineProperty(c,d,{value:a})}}function g(c){var a=Object[c];a&&(Object[c]=function(c){if(c instanceof e)return c;b(c);return a(c)})}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&
$jscomp.ES6_CONFORMANCE)return a}else if(f())return a;var d="$jscomp_hidden_"+Math.random();g("freeze");g("preventExtensions");g("seal");var h=0,k=function(c){this.id_=(h+=Math.random()+1).toString();if(c){c=$jscomp.makeIterator(c);for(var a;!(a=c.next()).done;)a=a.value,this.set(a[0],a[1])}};k.prototype.set=function(c,a){b(c);if(!$jscomp.owns(c,d))throw Error("WeakMap key fail: "+c);c[d][this.id_]=a;return this};k.prototype.get=function(c){return $jscomp.owns(c,d)?c[d][this.id_]:void 0};k.prototype.has=
function(c){return $jscomp.owns(c,d)&&$jscomp.owns(c[d],this.id_)};k.prototype.delete=function(c){return $jscomp.owns(c,d)&&$jscomp.owns(c[d],this.id_)?delete c[d][this.id_]:!1};return k},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(a){function f(){if($jscomp.ASSUME_NO_NATIVE_MAP||!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var c=Object.seal({x:4}),d=new a($jscomp.makeIterator([[c,"s"]]));if("s"!=d.get(c)||1!=d.size||d.get({x:4})||d.set({x:4},"t")!=d||2!=d.size)return!1;var b=d.entries(),e=b.next();if(e.done||e.value[0]!=c||"s"!=e.value[1])return!1;e=b.next();return e.done||4!=e.value[0].x||"t"!=e.value[1]||!b.next().done?!1:!0}catch(m){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(f())return a;$jscomp.initSymbolIterator();var e=new WeakMap,b=function(c){this.data_={};this.head_=h();this.size=0;if(c){c=$jscomp.makeIterator(c);for(var a;!(a=c.next()).done;)a=a.value,this.set(a[0],a[1])}};b.prototype.set=function(a,d){a=0===a?0:a;var c=g(this,a);c.list||(c.list=this.data_[c.id]=[]);c.entry?c.entry.value=d:(c.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:a,
value:d},c.list.push(c.entry),this.head_.previous.next=c.entry,this.head_.previous=c.entry,this.size++);return this};b.prototype.delete=function(a){a=g(this,a);return a.entry&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.data_[a.id],a.entry.previous.next=a.entry.next,a.entry.next.previous=a.entry.previous,a.entry.head=null,this.size--,!0):!1};b.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=h();this.size=0};b.prototype.has=function(a){return!!g(this,a).entry};
b.prototype.get=function(a){return(a=g(this,a).entry)&&a.value};b.prototype.entries=function(){return d(this,function(a){return[a.key,a.value]})};b.prototype.keys=function(){return d(this,function(a){return a.key})};b.prototype.values=function(){return d(this,function(a){return a.value})};b.prototype.forEach=function(a,d){for(var c=this.entries(),b;!(b=c.next()).done;)b=b.value,a.call(d,b[1],b[0],this)};b.prototype[Symbol.iterator]=b.prototype.entries;var g=function(a,d){var b=d&&typeof d;"object"==
b||"function"==b?e.has(d)?b=e.get(d):(b=""+ ++k,e.set(d,b)):b="p_"+d;var c=a.data_[b];if(c&&$jscomp.owns(a.data_,b))for(a=0;a<c.length;a++){var g=c[a];if(d!==d&&g.key!==g.key||d===g.key)return{id:b,list:c,index:a,entry:g}}return{id:b,list:c,index:-1,entry:void 0}},d=function(a,d){var b=a.head_;return $jscomp.iteratorPrototype(function(){if(b){for(;b.head!=a.head_;)b=b.previous;for(;b.next!=b.head;)return b=b.next,{done:!1,value:d(b)};b=null}return{done:!0,value:void 0}})},h=function(){var a={};return a.previous=
a.next=a.head=a},k=0;return b},"es6","es3");
$jscomp.polyfill("Set",function(a){function f(){if($jscomp.ASSUME_NO_NATIVE_SET||!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),e=new a($jscomp.makeIterator([b]));if(!e.has(b)||1!=e.size||e.add(b)!=e||1!=e.size||e.add({x:4})!=e||2!=e.size)return!1;var d=e.entries(),h=d.next();if(h.done||h.value[0]!=b||h.value[1]!=b)return!1;h=d.next();return h.done||h.value[0]==b||4!=h.value[0].x||h.value[1]!=h.value[0]?!1:d.next().done}catch(k){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(f())return a;$jscomp.initSymbolIterator();var e=function(a){this.map_=new Map;if(a){a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)this.add(b.value)}this.size=this.map_.size};e.prototype.add=function(a){a=0===a?0:a;this.map_.set(a,a);this.size=this.map_.size;return this};e.prototype.delete=function(a){a=this.map_.delete(a);this.size=this.map_.size;return a};e.prototype.clear=function(){this.map_.clear();
this.size=0};e.prototype.has=function(a){return this.map_.has(a)};e.prototype.entries=function(){return this.map_.entries()};e.prototype.values=function(){return this.map_.values()};e.prototype.keys=e.prototype.values;e.prototype[Symbol.iterator]=e.prototype.values;e.prototype.forEach=function(a,e){var d=this;this.map_.forEach(function(b){return a.call(e,b,b,d)})};return e},"es6","es3");var autoLayout=!1;
function checkLayout(){if(autoLayout&&!IS_MOBILE){var a=void 0;600>window.innerWidth&&1<window.location.href.indexOf("/desktop")?a="mobile":600<=window.innerWidth&&1<window.location.href.indexOf("/mobile")&&(a="desktop");void 0!=a&&(setLocalStorageVal("useLastPlayer",!0),window.location.href=a)}}function setAutoLayout(a){autoLayout=a;checkLayout()}
function checkEntryFocus(){!IS_MOBILE||"INPUT"!=document.activeElement.tagName&&"TEXTAREA"!=document.activeElement.tagName||ensureVisible(document.activeElement)}
function initApp(a){parseQueryParams();a.$store.commit("initUiSettings");lmsUseLastPlayer=!1;0<=window.location.href.indexOf("/mini")?lmsUseLastPlayer=!0:pageWasReloaded()?lmsUseLastPlayer=!0:(lmsUseLastPlayer=getLocalStorageBool("useLastPlayer",lmsUseLastPlayer),removeLocalStorage("useLastPlayer"));var f=getLocalStorageVal("translation",void 0);void 0!=f&&setTranslation(JSON.parse(f));if(IS_MOBILE)try{document.styleSheets[0].addRule("::-webkit-scrollbar","max-height: 0px !important; max-width: 0px !important;")}catch(d){}lmsCommand("",
["pref","language","?"]).then(function(a){if((a=a.data)&&a.result&&a.result._p2){var d=a.result._p2.toLowerCase();"en"==d&&(d=(window.navigator.userLanguage||window.navigator.language).toLowerCase());"en"==d||"en-us"==d?void 0!=f&&(removeLocalStorage("translation"),setTranslation(void 0),bus.$emit("langChanged")):(LMS_SKIN_LANGUAGES.has(d)||(d=d.substr(0,2)),axios.get("html/lang/"+d+".json?r="+LMS_MATERIAL_REVISION).then(function(a){a=eval(a.data);setLocalStorageVal("translation",JSON.stringify(a));
setTranslation(a);axios.defaults.headers.common["Accept-Language"]=d;document.querySelector("html").setAttribute("lang",d);bus.$emit("langChanged")}).catch(function(a){window.console.error(a)}))}});lmsCommand("",["pref","plugin.material-skin:composergenres","?"]).then(function(a){(a=a.data)&&a.result&&null!=a.result._p2&&(a=splitString(a.result._p2.split("\r").join("").split("\n").join(",")),0<a.length&&(LMS_COMPOSER_GENRES=new Set(a),logJsonMessage("COMPOSER_GENRES",a)))});lmsCommand("",["pref",
"plugin.material-skin:conductorgenres","?"]).then(function(a){(a=a.data)&&a.result&&null!=a.result._p2&&(a=splitString(a.result._p2.split("\r").join("").split("\n").join(",")),0<a.length&&(LMS_CONDUCTOR_GENRES=new Set(a),logJsonMessage("CONDUCTOR_GENRES",a)))});0>window.location.href.indexOf("/mini")&&0>window.location.href.indexOf("/now-playing")&&0>window.location.href.indexOf("auto=false")&&setAutoLayout("auto"==getLocalStorageVal("layout","auto"));var e=window.innerHeight,b=window.innerWidth,
g=void 0;document.documentElement.style.setProperty("--vh",.01*window.innerHeight+"px");window.addEventListener("resize",function(){g&&clearTimeout(g);g=setTimeout(function(){0!=Math.abs(e-window.innerHeight)&&(document.documentElement.style.setProperty("--vh",.01*window.innerHeight+"px"),e=window.innerHeight);g=void 0;3<=Math.abs(b-window.innerWidth)&&(b=window.innerWidth,checkLayout(),bus.$emit("windowWidthChanged"));checkEntryFocus()},50)},!1);window.addEventListener("load",function(){window.history.pushState({noBackExitsApp:!0},
"")},!1);window.addEventListener("popstate",function(a){a.state&&a.state.noBackExitsApp&&window.history.pushState({noBackExitsApp:!0},"")},!1);window.addEventListener("touchmove",function(){});window.addEventListener("keyup",function(a){27===a.keyCode&&bus.$emit("esc")});bus.$on("dialogOpen",function(a,b){this.$store.commit("dialogOpen",{name:a,shown:b})}.bind(a));bus.$on("dlg.open",function(b,e,f,c){a.dialogs[b]=!0;a.$nextTick(function(){bus.$emit(b+".open",e,f,c)})}.bind(a))};
